(function(a){var b={};b.mainContent={list:["#home","#about","#resume","#portfolio","#contact"],on:"",off:""};b.preLoad=function(c){a("#pre-load").fadeOut(parseInt(c,10))};b.replaceVHeight=function(){a("html").css({height:a(window).height()})};b.portfolioFilter={container:a("#portfolio .portfolio-item .item-wrapper"),init:function(){b.portfolioFilter.container.imagesLoaded(function(){b.portfolioFilter.container.isotope({itemSelector:"#portfolio .portfolio-item .item-wrapper .item",layoutMode:"masonry",transitionDuration:"0.8s"});b.portfolioFilter.container.isotope("layout");a("#portfolio .portfolio-filter ul li").on("click","a",function(){a("#portfolio .portfolio-filter ul li .current").removeClass("current");a(this).addClass("current");var c=a(this).attr("data-filter");b.portfolioFilter.container.isotope({filter:c});setTimeout(function(){b.portfolioFilter.container.isotope("layout")},6);return false})})}};b.useMagnificPopup=function(){a("#portfolio .portfolio-item .item-wrapper .item").magnificPopup({delegate:"a",type:"inline",removalDelay:300,mainClass:"mfp-fade",fixedContentPos:true,callbacks:{beforeOpen:function(){a("html").addClass("mfp-helper")},close:function(){a("html").removeClass("mfp-helper")}}})};b.setSkillProgress=function(){var d=a(".single-skill");for(var c=0;c<d.length;c++){if(d.eq(c).find(".percentage")[0].textContent=="100%"){d.eq(c).find(".progress-wrapper .progress").css({width:d.eq(c).find(".percentage")[0].textContent,borderRight:0})}else{d.eq(c).find(".progress-wrapper .progress").css("width",d.eq(c).find(".percentage")[0].textContent)}}};b.useTypeIt=function(){if(typeof TypeIt!="undefined"){new TypeIt(".passion",{speed:200,startDelay:800,strings:["小菜鸟","程序员"],breakLines:false,loop:true})}else{return false}};b.progressAnimation=function(){if(navigator.userAgent.indexOf("MSIE")!==-1||navigator.appVersion.indexOf("Trident/")>-1){a(".progress-wrapper .progress").css({animation:"none"})}};b.dynamicPage=function(d,f){if(!d){if(!f){a("#home").addClass("active");b.mainContent.on=b.mainContent.off="#home"}else{if(b.mainContent.list.includes(f)){a(f).addClass("active");b.mainContent.on=b.mainContent.off=f}else{a("#home").addClass("active");b.mainContent.on=b.mainContent.off="#home"}}}else{var c=d.currentTarget;var e=b.mainContent.off,g=b.mainContent.on,h;if(c.className==="menu-link"||c.className==="close-menu-link"||c.id==="contact-button"){if(b.mainContent.list.includes(f)){h=f}else{return}}else{return}if(h!==g){a(e).removeClass("scaleDownCenter");a(g).removeClass("scaleUpCenter active");a(g).addClass("scaleDownCenter");a(h).addClass("scaleUpCenter active");b.mainContent.off=g;b.mainContent.on=h}}};b.processContactForm=function(){var e=a('form[name="contact"]'),g=a(".contact-msg"),f;var c=function(h){g.text(h);g.removeClass("alert-danger").addClass("alert-success").fadeIn();setTimeout(function(){g.fadeOut()},2400);e.find('input:not([type="submit"]), textarea').val("")};var d=function(i,j,h){if(i.status===400){g.text(i.responseText)}else{g.text(i.statusText)}g.removeClass("alert-success").addClass("alert-danger").fadeIn();setTimeout(function(){g.fadeOut()},2400)};e.on("submit",function(h){h.preventDefault();f=a(this).serialize();a.ajax({type:"POST",url:e.attr("action"),data:f}).done(c).fail(d)})};a(window).on("resize",function(){b.replaceVHeight(),b.portfolioFilter.container.isotope("layout")});window.addEventListener("orientationchange",function(){b.replaceVHeight(),b.portfolioFilter.container.isotope("layout")},false);a(".menu-link").on("click",function(c){b.dynamicPage(c,a(this)[0].hash)});a(".close-menu-link").on("click",function(c){b.dynamicPage(c,a(this)[0].hash)});a("#contact-button").on("click",function(c){b.dynamicPage(c,a(this)[0].hash)});a('a[href="#"]').on("click",function(c){c.preventDefault()});a(window).on("load",function(){b.preLoad(800)});a(document).ready(function(){b.dynamicPage(undefined,window.location.hash),b.replaceVHeight(),b.portfolioFilter.init(),b.useMagnificPopup(),b.setSkillProgress(),b.progressAnimation(),b.useTypeIt(),b.processContactForm()})})(jQuery);